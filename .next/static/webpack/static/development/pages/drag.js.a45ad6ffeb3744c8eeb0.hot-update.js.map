{"version":3,"file":"static/webpack/static\\development\\pages\\drag.js.a45ad6ffeb3744c8eeb0.hot-update.js","sources":["webpack:///./components/Issue.js","webpack:///./components/Issues.js","webpack:///./components/Sidebar.js","webpack:///./lib/helpers.js","webpack:///./pages/drag.js","webpack:///./styles/IssueStyles.js","webpack:///./styles/SidebarStyles.js","webpack:///./styles/WrapperStyles.js"],"sourcesContent":["import IssueStyles from './../styles/IssueStyles';\r\nimport { formatDate, formatTimeAgo } from './../lib/helpers';\r\n\r\nconst Issue = props => {\r\n  const { user, title, created_at, updated_at } = props.issue;\r\n\r\n  return (\r\n    <IssueStyles>\r\n      <img src={user.avatar_url} height=\"40\" width=\"40\" />\r\n      <div className=\"issue-details\">\r\n        <h2>{title}</h2>\r\n        <span>{formatDate(created_at)}</span>\r\n        <span>{formatTimeAgo(updated_at)}</span>\r\n      </div>\r\n    </IssueStyles>\r\n  );\r\n};\r\n\r\nexport default Issue;\r\n","import { Component } from 'react';\r\nimport Issue from './Issue';\r\nimport Sidebar from './Sidebar';\r\n\r\nimport WrapperStyles from './../styles/WrapperStyles';\r\n\r\nexport default class Issues extends Component {\r\n  state = {\r\n    isLoaded: false,\r\n    issues: [],\r\n    username: '',\r\n    token: ''\r\n  };\r\n\r\n  getIssues = () => {\r\n    fetch(`https://api.github.com/search/issues?q=${this.state.username}`, {\r\n      headers: {\r\n        Authorization: `token ${this.state.token}`\r\n      }\r\n    })\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        console.log(data.items);\r\n        this.setState({ isLoaded: true, issues: data.items });\r\n      })\r\n      .catch(error => {\r\n        console.error(error);\r\n        this.setState({ isLoaded: true, error });\r\n      });\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.getIssues();\r\n  }\r\n\r\n  componentWillReceiveProps(prevProps) {\r\n    if (prevProps === undefined) {\r\n      return false;\r\n    }\r\n    this.setState({\r\n      isLoaded: true\r\n    });\r\n    this.getIssues(prevProps);\r\n  }\r\n\r\n  setForm = sidebarState => {\r\n    const { token, username } = sidebarState;\r\n    this.setState({ token, username, error: false });\r\n    setTimeout(() => this.getIssues(), 0);\r\n  };\r\n\r\n  render() {\r\n    const { error, isLoaded, issues } = this.state;\r\n\r\n    return (\r\n      <WrapperStyles>\r\n        <Sidebar getForm={this.setForm} />\r\n        {isLoaded ? <ul>{issues && issues.map((issue, i) => <Issue key={i} issue={issue} />)}</ul> : 'Loading...'}\r\n      </WrapperStyles>\r\n    );\r\n  }\r\n}\r\n","import { Component } from 'react';\r\n\r\nimport SidebarStyles from './../styles/SidebarStyles';\r\n\r\nexport default class Sidebar extends Component {\r\n  state = { username: 'wesbos', token: '9a0c090405d89a14fd4dc83c35bfff0bdcd39272' };\r\n\r\n  handleInputChange = event => {\r\n    const target = event.target;\r\n    const value = target.value;\r\n    const name = target.name;\r\n\r\n    this.setState({\r\n      [name]: value\r\n    });\r\n  };\r\n\r\n  handleSubmit = event => {\r\n    event.preventDefault();\r\n    this.props.getForm(this.state);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <SidebarStyles onSubmit={this.handleSubmit}>\r\n        <label>\r\n          Username:\r\n          <input type=\"text\" name=\"username\" value={this.state.username} onChange={this.handleInputChange} />\r\n        </label>\r\n        <label>\r\n          API Key:\r\n          <input type=\"text\" name=\"token\" value={this.state.token} onChange={this.handleInputChange} />\r\n        </label>\r\n        <input type=\"submit\" value=\"Submit\" />\r\n      </SidebarStyles>\r\n    );\r\n  }\r\n}\r\n","export function formatDate(dateString) {\r\n  const date = new Date(dateString);\r\n  let dd = date.getDate() + 1;\r\n  let mm = date.getMonth() + 1;\r\n\r\n  const yyyy = date.getFullYear();\r\n  if (dd < 10) {\r\n    dd = '0' + dd;\r\n  }\r\n  if (mm < 10) {\r\n    mm = '0' + mm;\r\n  }\r\n  return `${mm}/${dd}/${yyyy}`;\r\n}\r\n\r\nexport function formatTimeAgo(timeValue) {\r\n  timeValue = (new Date() - new Date(timeValue)) / 1000;\r\n  const years = Math.floor(timeValue / 31536000);\r\n  const months = Math.floor(timeValue / 2592000);\r\n  const days = Math.floor(timeValue / 86400);\r\n  const hours = Math.floor(timeValue / 3600);\r\n  const minutes = Math.floor(timeValue / 60);\r\n  let ret = '';\r\n\r\n  if (years > 0) {\r\n    return `${years} year${years === 1 ? '' : 's'} ago`;\r\n  }\r\n\r\n  if (months > 0) {\r\n    if (ret !== '') {\r\n      ret += ' ';\r\n    }\r\n    return `${months} month${months === 1 ? '' : 's'} ago`;\r\n  }\r\n\r\n  if (days > 0) {\r\n    if (ret !== '') {\r\n      ret += ' ';\r\n    }\r\n    return `${days} day${days === 1 ? '' : 's'} ago`;\r\n  }\r\n\r\n  if (hours > 0) {\r\n    if (ret !== '') {\r\n      ret += ' ';\r\n    }\r\n    return `${hours} hour${hours === 1 ? '' : 's'} ago`;\r\n  }\r\n\r\n  if (minutes > 0) {\r\n    if (ret !== '') {\r\n      ret += ' ';\r\n    }\r\n    return `${minutes} min${minutes === 1 ? '' : 's'} ago`;\r\n  }\r\n\r\n  return ret + ' ago';\r\n}\r\n","import Dragg from '../components/Issues';\r\n\r\nconst Drag = () => <Dragg />;\r\n\r\nexport default Drag;\r\n","import styled from 'styled-components';\r\n\r\nconst IssueStyles = styled.li`\r\n  border: 1px solid #ccc;\r\n  border-radius: 0.25rem;\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 1rem;\r\n  margin: 1rem;\r\n  cursor: move;\r\n\r\n  .issue-details {\r\n    display: flex;\r\n    flex-direction: column;\r\n    margin-left: 0.5rem;\r\n    overflow: hidden;\r\n\r\n    h2 {\r\n      font-weight: 700;\r\n      overflow: hidden;\r\n      text-overflow: ellipsis;\r\n      white-space: nowrap;\r\n    }\r\n  }\r\n`;\r\n\r\nexport default IssueStyles;\r\n","import styled from 'styled-components';\r\n\r\nconst SidebarStyles = styled.form`\r\n  padding: 1rem;\r\n\r\n  label {\r\n    display: block;\r\n  }\r\n\r\n  input {\r\n    border: 1px solid #ccc;\r\n    border-radius: 3px;\r\n    padding: 0.5rem;\r\n    margin: 0.5rem 0;\r\n    width: 100%;\r\n    font-family: ${props => props.theme.fontFamily};\r\n\r\n    &[type='submit'] {\r\n      background: #3056ba;\r\n      color: #fff;\r\n      cursor: pointer;\r\n      margin-top: 2rem;\r\n\r\n      &:hover {\r\n        opacity: 0.8;\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport default SidebarStyles;\r\n","import styled from 'styled-components';\r\n\r\nconst WrapperStyles = styled.div`\r\n  display: grid;\r\n  grid-template-columns: 20rem 118rem;\r\n  grid-gap: 2rem;\r\n`;\r\n\r\nexport default WrapperStyles;\r\n"],"mappings":";;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClBA;AACA;AACA;AAEA;AACA;AACA;;;;;;;;;;;;;;;;;;AACA;AACA;AACA;AACA;AACA;AAJA;AACA;AAMA;AACA;AACA;AACA;AADA;AADA;AAKA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAeA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;;;;;;AAnBA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AADA;AAGA;AACA;;;AAQA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;;;;AAtDA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACPA;AAEA;AACA;AACA;;;;;;;;;;;;;;;;;;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;;;;;;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;;;;AAhCA;AACA;;;;;;;;;;;;;ACLA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzDA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;;;;;;;;;;;;ACJA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAwBA;;;;;;;;;;;;AC1BA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAaA;AAAA;AAeA;;;;;;;;;;;;AC9BA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAMA;;;;A","sourceRoot":""}